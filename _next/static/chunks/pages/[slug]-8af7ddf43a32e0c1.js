(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{5332:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return o(2527)}])},2527:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSG:function(){return E},default:function(){return L}});var s=o(5893),n=o(9008),r=o.n(n),l=o(2088),i=o(967),a=o(2598),c=o(7747),d=o(2757),u=o(7239),p=o(6089),m=o(4225),h=o(7294),f=o(5083),x=o(9778),g=o(6559),b=o(6205),j=o(4859),y=o(4346),v=o(3717),w=o(4e3),S=o(4253),_=o(8948);let k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=t.map(e=>({...e,message:void 0})),n=await fetch("https://darwin-assistant.vercel.app/api/v1/conversation/labs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:s,content:o,message:e})});return await n.json()};var C=function(e){let{btnRef:t,isOpen:o,onOpen:n,onClose:r,content:l}=e,[i,a]=(0,h.useState)([]),[u,p]=(0,h.useState)([]),[C,E]=(0,h.useState)(!1);(0,h.useEffect)(async()=>{let e=await k("",u,l);p(t=>[...t,{role:"user",parts:[{text:""}],message:""},{role:"model",parts:[{text:e.response}],message:e.response}])},[]);let L=async()=>{if(!i.trim())return;E(!0),p(e=>[...e,{role:"user",parts:[{text:i}],message:i},{role:"model",parts:[{text:"Thinking..."}],message:"Typing..."}]),a("");let e=await k(i,u,l);p(t=>{let o=[...t];return o[o.length-1]={role:"model",parts:[{text:e.response}],message:e.response},o}),E(!1)};return(0,s.jsxs)(f.d,{blockScrollOnMount:!1,size:"lg",isOpen:o,placement:"right",onClose:r,finalFocusRef:t,children:[(0,s.jsx)(x.Z,{}),(0,s.jsxs)(g.s,{children:[(0,s.jsx)(b.o,{}),(0,s.jsx)(j.x,{children:(0,s.jsx)(d.X,{color:"#ff79c6",size:"md",children:"Conversation With Darwin"})}),(0,s.jsx)(y.f,{children:u.map((e,t)=>e.message?(0,s.jsx)(v.k,{direction:"column",align:"model"===e.role?"flex-start":"flex-end",children:(0,s.jsxs)(c.xu,{mb:4,p:3,borderRadius:"md",bg:"model"===e.role?"#2D3748":"#4A5568",color:"white",width:"85%",transition:"all 0.2s ease-in-out",_hover:{bg:"model"===e.role?"#394150":"#5A6478",transform:"scale(1.02)",boxShadow:"md"},children:[(0,s.jsx)(w.x,{fontWeight:"bold",color:"#ff79c6",children:"model"===e.role?"Darwin":"You"}),(0,s.jsx)(w.x,{mt:1,children:e.message})]})},t):null)}),(0,s.jsxs)(S.m,{children:[(0,s.jsx)(v.k,{width:"100%",children:(0,s.jsx)(_.I,{value:i,onKeyDown:e=>{"Enter"===e.key&&L()},onChange:e=>a(e.target.value),isDisabled:C,borderLeftRadius:"2xl",borderRightRadius:0,borderWidth:3,colorScheme:"purple",borderColor:"#536189",focusBorderColor:"#ff79c6",my:2,placeholder:"Send a message..."})}),(0,s.jsx)(m.z,{borderLeftRadius:0,colorScheme:"purple",my:2,onClick:L,isLoading:C,loadingText:"Sending...",children:"Send"})]})]})]})},E=!0;function L(e){let{article:t}=e,{isOpen:o,onOpen:n,onClose:f}=(0,i.q)(),x=(0,h.useRef)(),g=(0,a.S)({base:!0,md:!1});return(0,h.useEffect)(()=>{let e=()=>{let e=document.querySelector(".content");if(!e)return;let t=e.querySelectorAll("pre"),o=e.querySelectorAll("code");t.forEach(e=>{e.style.width="1024px";let t=e.parentNode;t.style.overflowX="scroll",t.style.marginBlock="15px",e.style.backgroundColor="#272822",e.classList.add("custom-pre")}),o.forEach(e=>{e.classList.add("custom-code")})};e();let t=new MutationObserver(e),o=document.querySelector(".content");return o&&t.observe(o,{childList:!0,subtree:!0}),()=>{o&&t.disconnect()}},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("link",{rel:"icon",href:"https://firebasestorage.googleapis.com/v0/b/personal-blog-darmajr.appspot.com/o/portofolio%2Fadmin%2FAvatar.svg?alt=media&token=622405c3-9dff-4483-af0c-ddc95fbe6445",type:"image/svg+xml"}),(0,s.jsx)("title",{children:t.title}),(0,s.jsx)("meta",{name:"google-site-verification",content:"OaSWua2pdfv0KF_FFiMg9mzJSLR7r9MytkWJI3mLf_8"}),(0,s.jsx)("meta",{name:"description",content:t.short_description}),(0,s.jsx)("meta",{property:"og:title",content:t.title}),(0,s.jsx)("meta",{property:"og:description",content:t.short_description}),(0,s.jsx)("meta",{property:"og:type",content:"article"}),(0,s.jsx)("meta",{property:"og:url",content:"https://barbarpotato.github.io/labs/".concat(t.slug)})]}),(0,s.jsxs)("article",{children:[(0,s.jsx)(c.xu,{mx:"auto",w:{base:"70%",md:"35%"},children:(0,s.jsx)(d.X,{style:{color:"whitesmoke",fontWeight:"bold"},children:null==t?void 0:t.title})}),(0,s.jsx)(u.M,{pt:2,pb:10,children:(0,s.jsx)(p.E,{borderRadius:"lg",w:{base:"70%",md:"35%"},display:"flex",justifyContent:"center",src:null==t?void 0:t.image})}),(0,s.jsx)(c.xu,{mx:"auto",w:{base:"70%",md:"35%"},display:"flex",justifyContent:"center",children:(0,s.jsx)("div",{className:"content",style:{overflowX:"auto",fontSize:"1.3em"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.description}})}),g?(0,s.jsx)("button",{ref:x,onClick:n,className:"chatbot-toggle-button",children:(0,s.jsx)(l.E0L,{size:30,color:"white"})}):(0,s.jsx)(m.z,{ref:x,position:"fixed",right:"20px",bottom:"20px",colorScheme:"purple",onClick:n,children:"Ask Darwin AI"}),(0,s.jsx)(C,{btnRef:x,isOpen:o,onOpen:n,onClose:f,content:null==t?void 0:t.description})]})]})}}},function(e){e.O(0,[838,187,888,774,179],function(){return e(e.s=5332)}),_N_E=e.O()}]);